(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{7489:function(e,s,l){Promise.resolve().then(l.bind(l,9452))},9452:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return N}});var a=l(7437),t=l(6648),i=l(7138),c=l(4005),n=l(2265),r=l(9415),d=l(495),h=l(7440),u=l(6013),o=l(1254),m=l(8969),x=l(3705),f=l(510),j=l(1647);async function g(e){let s=(0,x.JU)(m.db,"badges",e),l=await (0,x.QT)(s);return l.exists()?{chessFinalQuest:l.data().chessFinalQuest}:(console.log("No such document!"),{chessFinalQuest:!1})}function N(){let e=o[1100],{user:s}=(0,f.a)(),[l,N]=(0,n.useState)(1),[v,p]=(0,n.useState)(e[l+94]),[b,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{s&&g(s.uid).then(e=>{console.log("Fetched badge data:",e),w(e.chessFinalQuest)}).catch(e=>console.error("Error fetching user badge:",e))},[s]);let y=()=>{N(1),p(E)},F=l+1,z=e[F+94],E=e[95],S=async()=>{if(F>5&&(w(!0),s)){let e=(0,x.JU)(m.db,"badges",s.uid);(0,x.r7)(e,{chessFinalQuest:!0})}};return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"h-full w-full max-w-[13rem] shrink-0",children:(0,a.jsx)(r.Sidebar,{className:"bg-gray-100",children:(0,a.jsxs)(r.SidebarSection,{className:"px-2 py-2",children:[(0,a.jsxs)(i.default,{href:"/pages/dashboard",className:(0,h.cn)((0,d.d)({variant:"ghost",className:"flex justify-start rounded-sm hover:bg-blue-300"})),children:[(0,a.jsx)(t.default,{src:"/img/home_icon.jpg",alt:"Home",width:30,height:10,className:"mr-2"}),"Home"]}),(0,a.jsxs)(i.default,{href:"/pages/chess-guide",className:(0,h.cn)((0,d.d)({variant:"ghost",className:"flex justify-start rounded-sm hover:bg-blue-300"})),children:[(0,a.jsx)(t.default,{src:"/img/pawn_icon.jpg",alt:"Chess",width:30,height:10,className:"mr-2"}),"Guide"]}),(0,a.jsxs)(i.default,{href:"/pages/chess-daily",className:(0,h.cn)((0,d.d)({variant:"ghost",className:"flex justify-start rounded-sm hover:bg-blue-300"})),children:[(0,a.jsx)(t.default,{src:"/img/pawn_icon.jpg",alt:"Chess-DailyQuiz",width:30,height:10,className:"mr-2"}),"Daily Quiz"]}),(0,a.jsxs)(i.default,{href:"/pages/coming-soon",className:(0,h.cn)((0,d.d)({variant:"ghost",className:"flex justify-start rounded-sm hover:bg-blue-300"})),children:[(0,a.jsx)(t.default,{src:"/img/pawn_icon.jpg",alt:"Poker",width:30,height:10,className:"mr-2"}),"Leaderboard"]}),(0,a.jsxs)(i.default,{href:"/pages/chess-finalQuest",className:(0,h.cn)((0,d.d)({variant:"ghost",className:"flex w-full justify-start rounded-sm bg-blue-300 hover:bg-blue-300"})),children:[(0,a.jsx)(t.default,{src:"/img/pawn_icon.jpg",alt:"Poker",width:30,height:10,className:"mr-2"}),"Final Quest"]})]})})}),b?(0,a.jsxs)("div",{className:"flex flex-col items-center text-4xl h-screen w-full mt-20",children:[(0,a.jsx)("h1",{children:"CONGRAULATIONS YOU HAVE PASSED THE CHESS FINAL QUEST \uD83C\uDF89"}),(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsxs)(j.Avatar,{className:"mt-5 h-48 w-48",children:[(0,a.jsx)(j.AvatarImage,{src:"/img/queenbadge.png"}),(0,a.jsx)(j.AvatarFallback,{children:"CN"})]})})]}):(0,a.jsx)(c.L.Root,{puzzle:{fen:v.FEN,moves:v.Moves,makeFirstMove:!0},children:(0,a.jsxs)("div",{className:"flex flex-row h-screen w-full overflow-hidden p-10",children:[(0,a.jsx)("div",{className:"w-1/2",children:(0,a.jsx)(c.L.Board,{})}),(0,a.jsx)("div",{className:"flex justify-center h-1/2 w-full sm:w-2/5 p-4 sm:p-10",children:(0,a.jsxs)(u.Zb,{className:"w-full",children:[(0,a.jsxs)(u.Ol,{children:[(0,a.jsxs)(u.ll,{className:"flex justify-center text-4xl",children:["Final Quest #",l]}),(0,a.jsx)(u.SZ,{className:"flex justify-center",children:"Complete all 5 puzzles to earn your final quest badge!"})]}),(0,a.jsx)(u.aY,{children:(0,a.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)(c.L.Reset,{asChild:!0,puzzle:{fen:E.FEN,moves:E.Moves,makeFirstMove:!0},onReset:()=>{y()},showOn:["failed"],children:(0,a.jsx)(d.z,{className:(0,h.cn)((0,d.d)({size:"xl"}),"px-8 py-4 text-xl"),children:"Try Again"})})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)(c.L.Reset,{asChild:!0,onReset:()=>{N(F),S(),p(z)},puzzle:{fen:null==z?void 0:z.FEN,moves:null==z?void 0:z.Moves,makeFirstMove:!0},showOn:["solved"],children:(0,a.jsx)(d.z,{className:(0,h.cn)((0,d.d)({size:"xl"}),"px-8 py-4 text-xl"),children:"Next"})})})]})})]})})]})})]})}}},function(e){e.O(0,[106,37,364,866,149,810,103,173,942,5,154,415,254,971,23,744],function(){return e(e.s=7489)}),_N_E=e.O()}]);