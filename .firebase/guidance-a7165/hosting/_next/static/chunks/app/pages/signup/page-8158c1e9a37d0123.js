(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{221:function(e,a,s){Promise.resolve().then(s.bind(s,4027)),Promise.resolve().then(s.bind(s,1758)),Promise.resolve().then(s.t.bind(s,3547,23))},1758:function(e,a,s){"use strict";s.d(a,{UserAuthForm:function(){return m}});var t=s(5862),r=s(7058),n=s(3390),l=s(8172),i=s(7273),o=s(6659),d=s(6442),c=s(9641),u=s(670);function m(e){let{className:a,...s}=e,[m,h]=r.useState(!1),[p,f]=r.useState(""),[g,x]=r.useState(""),[w,C]=r.useState(""),[b,j]=r.useState(""),[v,P]=r.useState(!1),[y,N]=r.useState(""),{user:_,signUp:S,updateUsername:E}=(0,u.a)();async function q(e){if(e.preventDefault(),function(){let e="",a=/[!@#$%^&*(),.?":{}|<>_\-+=\[\]\\\/]/;return p!==b?e="mismatch":p.length<8?e="length":/\d/.test(p)||a.test(p)?/\d/.test(p)?a.test(p)||(e="special"):e="number":e="both",!e||(N(e),P(!0),!1)}()){h(!0);try{await S(g,p,w),console.log(_),window.location.href="/pages/dashboard"}catch(e){"auth/email-already-in-use"==e.code&&(N("email"),P(!0))}finally{h(!1)}}}return(0,t.jsxs)("div",{className:(0,n.cn)("grid gap-6",a),...s,children:[(0,t.jsx)("form",{onSubmit:q,children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)(d._,{className:"sr-only",htmlFor:"email",children:"Email"}),(0,t.jsx)(o.I,{id:"email",placeholder:"Email (name@example.com)",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:m,value:g,onChange:e=>x(e.target.value),required:!0}),(0,t.jsx)(d._,{className:"sr-only",htmlFor:"email",children:"Username"}),(0,t.jsx)(o.I,{id:"username",placeholder:"Username",type:"username",autoCapitalize:"none",autoComplete:"username",autoCorrect:"off",disabled:m,value:w,onChange:e=>C(e.target.value),required:!0}),(0,t.jsx)(d._,{className:"sr-only",htmlFor:"password",children:"Password"}),(0,t.jsx)(o.I,{id:"password",placeholder:"Password",type:"password",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",disabled:m,value:p,onChange:e=>f(e.target.value),required:!0}),(0,t.jsx)(d._,{className:"sr-only",htmlFor:"password",children:"Confirm Password"}),(0,t.jsx)("div",{className:"p-3 text-sm",children:"Password must be at least 8 characters long, including 1 number, and 1 special character."}),(0,t.jsx)(o.I,{id:"Confirm password",placeholder:"Confirm Password",type:"password",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",disabled:m,value:b,onChange:e=>j(e.target.value),required:!0})]}),(0,t.jsxs)(i.z,{disabled:m,children:[m&&(0,t.jsx)(l.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign Up with Email"]})]})}),(0,t.jsx)(c.aR,{open:v,onOpenChange:P,children:(0,t.jsxs)(c._T,{children:[(0,t.jsxs)(c.fY,{children:[(0,t.jsx)(c.f$,{children:"email"===y?"Email does not meet requirements":"Password does not meet requirements"}),(0,t.jsxs)(c.yT,{children:["mismatch"===y&&"Please ensure that the passwords you entered match before continuing.","length"===y&&"Password must be at least 8 characters long.","number"===y&&"Password must include at least 1 number.","special"===y&&"Password must include at least 1 special character.","both"===y&&"Password must include at least 1 number and 1 special character.","email"===y&&"Email already exists. Please sign in or use a different email."]})]}),(0,t.jsx)(c.xo,{children:(0,t.jsx)(c.OL,{children:"Continue"})})]})})]})}}},function(e){e.O(0,[106,37,374,677,563,877,158,660,744],function(){return e(e.s=221)}),_N_E=e.O()}]);